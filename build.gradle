apply plugin: 'java'
apply plugin: 'eclipse'

version = '0.1'

repositories {
    mavenCentral()
    jcenter()
}

dependencies {
    compile group: 'com.google.guava', name: 'guava', version: '12.0'
    compile group: 'net.sf.jopt-simple', name: 'jopt-simple', version: '4.9-beta-1'
}

jar {
    archiveName "version-checker-${version}.jar"
    
    manifest {
        attributes 'Main-Class': 'vs.Main'
    }
}

task fatJar(type: Jar) {

    archiveName "version-checker-${version}-all.jar"
    from { 
        configurations.runtime.collect { it.isDirectory() ? it : zipTree(it) }
    } {
        exclude 'META-INF/**'
    }
    with jar
}

artifacts {
    archives fatJar 
}